<h1 class="page-title">Need to know!</h1>

<div class="module coloured colours-maroon now">
    <h2 class="heading">Power now</h2>
    <p>Right now you're using:</p>
    <div class="carousel">
        <div class="carousel__slider">
            <div class="reading showing">2.5<span class="units">kw</span></div>
            <div class="reading">18<span class="units">p</span></div>
        </div>
        <a href="#" class="car__btn car__btn--right">£<br /><span class="icon-arrow-right"></span></a>
        <a href="#" class="car__btn car__btn--left">kw<br /><span class="icon-arrow-left"></span></a>
    </div>
</div>

<div class="module coloured colours-turq now">
    <h2 class="heading">Water now</h2>
    <div class="carousel">
        <div class="carousel__slider">
            <div class="reading showing">34<span class="units">litres</span></div>
            <div class="reading"><span class="units">£</span>0.32</div>
        </div>
        <a href="#" class="car__btn car__btn--right">£<br /><span class="icon-arrow-right"></span></a>
        <a href="#" class="car__btn car__btn--left">kw<br /><span class="icon-arrow-left"></span></a>
    </div>
</div>

<script type="text/javascript">
    
    $(document).on('ready',function(e)
    {
        $(".car__btn--left").on('click',function(e)
        {
            e.preventDefault();
            var carousel = $(this).closest('.now');
            $(carousel).toggleClass('show--alt');
            $(carousel).find('.reading').toggleClass('showing');
        });

        $(".car__btn--right").on('click',function(e)
        {
            e.preventDefault();
            var carousel = $(this).closest('.now');
            $(carousel).toggleClass('show--alt');
            $(carousel).find('.reading').toggleClass('showing');
        });

        $('.carousel').each(function()
        {
            var elems = $(this).find('.reading');
            var h = getHighest($(".reading"));
            $(this).css({'height':$(h).outerHeight()});
        });

        
        

        function getHighest(elems)
        {
            var t=0; // the height of the highest element (after the function runs)
            var t_elem;  // the highest element (after the function runs)
            elems.each(function () 
            {
                $this = $(this);
                if ( $this.outerHeight() > t ) 
                {
                    t_elem=this;
                    t=$this.outerHeight();
                }
            });
            return t_elem;
        }
    });
</script>